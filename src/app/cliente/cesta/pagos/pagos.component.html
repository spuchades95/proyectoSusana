<app-topbar></app-topbar>

<div class="container-fluid">
  <div class="row">
    <div class="col-md-8">
      <div class="account-navigation">
        <a class="izquierdaT">Inicio/</a> <span class="perfil">Pagos</span>
      </div>
      <div class="contenedordelacesta">
        <form (ngSubmit)="realizarPago()">
          <div class="group-container">
            <div class="rectangle">
              <label class="selectmet">Seleccione su embarcación:</label>
              <select (change)="seleccionarEmbarcacion($event)">
                <option *ngFor="let barco of barcos" [value]="barco.id">
                  {{ barco.NombreBarco }}
                </option>
              </select>
              <div class="content-container">
                <div *ngIf="embarcacionSeleccionada" class="add-card">
                  <div class="content">
                    <p class="card-label">
                      Nombre:
                      <span class="card-data">{{
                        embarcacionSeleccionada.NombreBarco
                      }}</span>
                    </p>
                    <p class="card-label">
                      Tipo:
                      <span class="card-data">{{
                        embarcacionSeleccionada.TipoBarco
                      }}</span>
                    </p>
                    <p class="card-label">
                      Matrícula:
                      <span class="card-data">{{
                        embarcacionSeleccionada.Matricula
                      }}</span>
                    </p>
                    <p class="card-label">
                      Origen:
                      <span class="card-data">{{
                        embarcacionSeleccionada.Origen
                      }}</span>
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="group-container">
            <div class="rectangle">
              <label class="selectmet">Seleccione su método de pago:</label>
              <select (change)="seleccionarMetodoDePago($event)">
                <option *ngFor="let metodo of tarjetas" [value]="metodo.id">
                  {{ metodo.numero_tarjeta }} - {{ metodo.nombre_tarjeta }}
                </option>
              </select>
              <div class="content-container">
                <div *ngIf="metodoDePagoSeleccionado" class="card-details">
                  <div class="card-info">
                    <img src="assets/img/creditcard.svg" class="plus" />
                    <p class="card-number">
                      {{ metodoDePagoSeleccionado.numero_tarjeta }}
                    </p>
                    <div class="owner-expiry">
                      <p class="owner"></p>

                      <p class="owner">
                        Propietario:
                        {{ metodoDePagoSeleccionado.nombre_tarjeta }}
                      </p>
                      <p class="expiry-date">
                        Expira el
                        {{ metodoDePagoSeleccionado.fecha_expiracion }}
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <app-servicios-seleccionados
            [serviciosSeleccionados]="serviciosParaPagar"
            (servicioEliminado)="eliminarServicio($event)"
          ></app-servicios-seleccionados>
        </form>
      </div>
    </div>

    <div class="col-md-4">
      <div class="patata">
        <app-resumen-pedido-pago
        [serviciosParaPagar]="serviciosParaPagar"
        [gastosGestion]="gastosGestion"
        [totalServicios]="total"
        (realizarPago)="realizarPago()"
      ></app-resumen-pedido-pago>
      </div>
    </div>
  </div>
</div>
